var _;

_ = require('lodash');

angular.module('angular-slick', []).directive('slick', [
  '$timeout', function($timeout) {
    return {
      restrict: 'AEC',
      scope: {
        initOnload: "@",
        data: "=",
        currentIndex: "=",
        accessibility: "@",
        adaptiveHeight: "@",
        autoplay: "@",
        autoplaySpeed: "@",
        arrows: "@",
        asNavFor: "@",
        appendArrows: "@",
        prevArrow: "@",
        nextArrow: "@",
        centerMode: "@",
        centerPadding: "@",
        cssEase: "@",
        customPaging: "&",
        dots: "@",
        draggable: "=",
        fade: "@",
        focusOnSelect: "@",
        easing: "@",
        edgeFriction: "@",
        infinite: "@",
        initialSlide: "=",
        lazyLoad: "@",
        mobileFirst: "@",
        pauseOnHover: "@",
        pauseOnDotsHover: "@",
        respondTo: "@",
        responsive: "=",
        slide: "@",
        slidesToShow: "@",
        slidesToScroll: "@",
        speed: "@",
        swipe: "@",
        swipeToSlide: "@",
        touchMove: "@",
        touchThreshold: "@",
        useCSS: "@",
        variableWidth: "@",
        vertical: "@",
        rtl: "@",
        onAfterChange: '&',
        onBeforeChange: '&',
        onEdge: '&',
        onInit: '&',
        onReInit: '&',
        onSetPosition: '&',
        onSwipe: '&'
      },
      link: function($scope, elem, attrs) {
        var currentIndexWatch, destroySlick, initializeSlick, isInitialized, slider;
        slider = null;
        $scope.$watch('draggable', function() {
          if (!slider) {
            return;
          }
          if (_.isUndefined(!$scope.draggable)) {
            return;
          }
          return slider.slick('slickSetOption', 'draggable', $scope.draggable, false);
        });
        currentIndexWatch = function() {};
        destroySlick = function() {
          return $timeout(function() {
            currentIndexWatch();
            slider = $(elem);
            slider.slick('unslick');
            slider.find('.slick-list').remove();
            return slider;
          });
        };
        initializeSlick = function() {
          return $timeout(function() {
            var customPaging;
            slider = $(elem);
            customPaging = void 0;
            if (attrs.customPaging) {
              customPaging = function(slick, index) {
                return $scope.customPaging({
                  slick: slick,
                  index: index
                });
              };
            }
            slider.slick({
              accessibility: $scope.accessibility !== 'false',
              adaptiveHeight: $scope.adaptiveHeight === 'true',
              autoplay: $scope.autoplay === 'true',
              autoplaySpeed: $scope.autoplaySpeed != null ? parseInt($scope.autoplaySpeed, 10) : 3000,
              arrows: $scope.arrows !== 'false',
              asNavFor: $scope.asNavFor ? $scope.asNavFor : void 0,
              appendArrows: $scope.appendArrows ? $($scope.appendArrows) : $(elem),
              prevArrow: $scope.prevArrow ? $scope.prevArrow : void 0,
              nextArrow: $scope.nextArrow ? $scope.nextArrow : void 0,
              centerMode: $scope.centerMode === 'true',
              centerPadding: $scope.centerPadding || '50px',
              cssEase: $scope.cssEase || 'ease',
              customPaging: customPaging,
              dots: $scope.dots === 'true',
              draggable: _.isUndefined($scope.draggable) ? true : $scope.draggable,
              fade: $scope.fade === 'true',
              focusOnSelect: $scope.focusOnSelect === 'true',
              easing: $scope.easing || 'linear',
              edgeFriction: Number($scope.edgeFriction || 0.15),
              infinite: $scope.infinite !== 'false',
              initialSlide: $scope.initialSlide || 0,
              lazyLoad: $scope.lazyLoad || 'ondemand',
              mobileFirst: $scope.mobileFirst === 'true',
              pauseOnHover: $scope.pauseOnHover !== 'false',
              pauseOnDotsHover: $scope.pauseOnDotsHover === 'true',
              respondTo: $scope.respondTo || 'window',
              responsive: $scope.responsive || void 0,
              slide: $scope.slide || 'div',
              slidesToShow: $scope.slidesToShow != null ? parseInt($scope.slidesToShow, 10) : 1,
              slidesToScroll: $scope.slidesToScroll != null ? parseInt($scope.slidesToScroll, 10) : 1,
              speed: $scope.speed != null ? parseInt($scope.speed, 10) : 300,
              swipe: $scope.swipe !== 'false',
              swipeToSlide: $scope.swipeToSlide === 'true',
              touchMove: $scope.touchMove !== 'false',
              touchThreshold: $scope.touchThreshold ? parseInt($scope.touchThreshold, 10) : 5,
              useCSS: $scope.useCSS !== 'false',
              variableWidth: $scope.variableWidth === 'true',
              vertical: $scope.vertical === 'true',
              rtl: $scope.rtl === 'true'
            });
            slider.on('afterChange', function(e, slick, index) {
              if (attrs.onAfterChange) {
                $scope.onAfterChange({
                  event: e,
                  slick: slick,
                  index: index
                });
              }
              if ($scope.currentIndex != null) {
                return $scope.$apply(function() {
                  return $scope.currentIndex = index;
                });
              }
            });
            slider.on('beforeChange', function(e, slick, currentIndex, nextIndex) {
              if (attrs.onBeforeChange) {
                return $scope.onBeforeChange({
                  event: e,
                  slick: slick,
                  currentIndex: currentIndex,
                  nextIndex: nextIndex
                });
              }
            });
            slider.on('edge', function(e, slick, direction) {
              if (attrs.onEdge) {
                return $scope.onEdge({
                  event: e,
                  slick: slick,
                  direction: direction
                });
              }
            });
            slider.on('init', function(e, slick) {
              if (attrs.onInit) {
                return $scope.onInit({
                  event: e,
                  slick: slick
                });
              }
            });
            slider.on('reInit', function(e, slick) {
              if (attrs.onReinit) {
                return $scope.onReinit({
                  event: e,
                  slick: slick
                });
              }
            });
            slider.on('setPosition', function(e, slick) {
              if (attrs.onSetPosition) {
                return $scope.onSetPosition({
                  event: e,
                  slick: slick
                });
              }
            });
            slider.on('swipe', function(e, slick, direction) {
              if (attrs.onSwipe) {
                return $scope.onSwipe({
                  event: e,
                  slick: slick,
                  direction: direction
                });
              }
            });
            return currentIndexWatch = $scope.$watch('currentIndex', function(newValue, oldValue) {
              if (newValue != null) {
                return slider.slick('slickGoTo', newValue);
              }
            });
          });
        };
        if ($scope.initOnload) {
          isInitialized = false;
          return $scope.$watch('data', function(newVal, oldVal) {
            if (newVal != null) {
              if (isInitialized) {
                destroySlick();
              }
              initializeSlick();
              return isInitialized = true;
            }
          });
        } else {
          return initializeSlick();
        }
      }
    };
  }
]);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1zbGljay5qcyIsInNvdXJjZXMiOlsiYW5ndWxhci1zbGljay5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBQTs7QUFBQSxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0FBRUosT0FBTyxDQUFDLE1BQVIsQ0FBZSxlQUFmLEVBQWdDLEVBQWhDLENBQ0ksQ0FBQyxTQURMLENBQ2UsT0FEZixFQUN3QjtFQUNoQixVQURnQixFQUdoQixTQUFDLFFBQUQ7V0FDSTtNQUFBLFFBQUEsRUFBVSxLQUFWO01BQ0EsS0FBQSxFQUNJO1FBQUEsVUFBQSxFQUFZLEdBQVo7UUFDQSxJQUFBLEVBQU0sR0FETjtRQUVBLFlBQUEsRUFBYyxHQUZkO1FBS0EsYUFBQSxFQUFlLEdBTGY7UUFNQSxjQUFBLEVBQWdCLEdBTmhCO1FBT0EsUUFBQSxFQUFVLEdBUFY7UUFRQSxhQUFBLEVBQWUsR0FSZjtRQVNBLE1BQUEsRUFBUSxHQVRSO1FBVUEsUUFBQSxFQUFVLEdBVlY7UUFXQSxZQUFBLEVBQWMsR0FYZDtRQVlBLFNBQUEsRUFBVyxHQVpYO1FBYUEsU0FBQSxFQUFXLEdBYlg7UUFjQSxVQUFBLEVBQVksR0FkWjtRQWVBLGFBQUEsRUFBZSxHQWZmO1FBZ0JBLE9BQUEsRUFBUyxHQWhCVDtRQWlCQSxZQUFBLEVBQWMsR0FqQmQ7UUFrQkEsSUFBQSxFQUFNLEdBbEJOO1FBbUJBLFNBQUEsRUFBVyxHQW5CWDtRQW9CQSxJQUFBLEVBQU0sR0FwQk47UUFxQkEsYUFBQSxFQUFlLEdBckJmO1FBc0JBLE1BQUEsRUFBUSxHQXRCUjtRQXVCQSxZQUFBLEVBQWMsR0F2QmQ7UUF3QkEsUUFBQSxFQUFVLEdBeEJWO1FBeUJBLFlBQUEsRUFBYyxHQXpCZDtRQTBCQSxRQUFBLEVBQVUsR0ExQlY7UUEyQkEsV0FBQSxFQUFhLEdBM0JiO1FBNEJBLFlBQUEsRUFBYyxHQTVCZDtRQTZCQSxnQkFBQSxFQUFrQixHQTdCbEI7UUE4QkEsU0FBQSxFQUFXLEdBOUJYO1FBK0JB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Q0FDSTtrQkFBQSxLQUFBLEVBQU8sQ0FBUDtrQkFDQSxLQUFBLEVBQU8sS0FEUDtpQkFESixFQUFBOztZQURxQixDQUF6QjtZQU1BLE1BQU0sQ0FBQyxFQUFQLENBQVUsT0FBVixFQUFtQixTQUFDLENBQUQsRUFBSSxLQUFKLEVBQVcsU0FBWDtjQUNmLElBSUssS0FBSyxDQUFDLE9BSlg7dUJBQUEsTUFBTSxDQUFDLE9BQVAsQ0FDSTtrQkFBQSxLQUFBLEVBQU8sQ0FBUDtrQkFDQSxLQUFBLEVBQU8sS0FEUDtrQkFFQSxTQUFBLEVBQVcsU0FGWDtpQkFESixFQUFBOztZQURlLENBQW5CO21CQVFBLGlCQUFBLEdBQW9CLE1BQU0sQ0FBQyxNQUFQLENBQWMsY0FBZCxFQUE4QixTQUFDLFFBQUQsRUFBVyxRQUFYO2NBQzlDLElBQUcsZ0JBQUg7dUJBQ0ksTUFBTSxDQUFDLEtBQVAsQ0FBYSxXQUFiLEVBQTBCLFFBQTFCLEVBREo7O1lBRDhDLENBQTlCO1VBdEdmLENBQVQ7UUFEYztRQTRHbEIsSUFBRyxNQUFNLENBQUMsVUFBVjtVQUNJLGFBQUEsR0FBZ0I7aUJBRWhCLE1BQU0sQ0FBQyxNQUFQLENBQWMsTUFBZCxFQUFzQixTQUFDLE1BQUQsRUFBUyxNQUFUO1lBQ2xCLElBQUcsY0FBSDtjQUNJLElBQWtCLGFBQWxCO2dCQUFBLFlBQUEsQ0FBQSxFQUFBOztjQUNBLGVBQUEsQ0FBQTtxQkFDQSxhQUFBLEdBQWdCLEtBSHBCOztVQURrQixDQUF0QixFQUhKO1NBQUEsTUFBQTtpQkFTSSxlQUFBLENBQUEsRUFUSjs7TUFsSUUsQ0F4RE47O0VBREosQ0FIZ0I7Q0FEeEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbl8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1zbGljaycsIFtdKVxuICAgIC5kaXJlY3RpdmUgJ3NsaWNrJywgW1xuICAgICAgICAnJHRpbWVvdXQnXG5cbiAgICAgICAgKCR0aW1lb3V0KS0+XG4gICAgICAgICAgICByZXN0cmljdDogJ0FFQydcbiAgICAgICAgICAgIHNjb3BlOlxuICAgICAgICAgICAgICAgIGluaXRPbmxvYWQ6IFwiQFwiXG4gICAgICAgICAgICAgICAgZGF0YTogXCI9XCJcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXg6IFwiPVwiXG5cbiAgICAgICAgICAgICAgICAjIFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBcIkBcIlxuICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiBcIkBcIlxuICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBcIkBcIlxuICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IFwiQFwiXG4gICAgICAgICAgICAgICAgYXJyb3dzOiBcIkBcIlxuICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiBcIkBcIlxuICAgICAgICAgICAgICAgIGFwcGVuZEFycm93czogXCJAXCJcbiAgICAgICAgICAgICAgICBwcmV2QXJyb3c6IFwiQFwiXG4gICAgICAgICAgICAgICAgbmV4dEFycm93OiBcIkBcIlxuICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IFwiQFwiXG4gICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogXCJAXCJcbiAgICAgICAgICAgICAgICBjc3NFYXNlOiBcIkBcIlxuICAgICAgICAgICAgICAgIGN1c3RvbVBhZ2luZzogXCImXCJcbiAgICAgICAgICAgICAgICBkb3RzOiBcIkBcIlxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogXCI9XCJcbiAgICAgICAgICAgICAgICBmYWRlOiBcIkBcIlxuICAgICAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IFwiQFwiXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBcIkBcIlxuICAgICAgICAgICAgICAgIGVkZ2VGcmljdGlvbjogXCJAXCJcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogXCJAXCJcbiAgICAgICAgICAgICAgICBpbml0aWFsU2xpZGU6IFwiPVwiXG4gICAgICAgICAgICAgICAgbGF6eUxvYWQ6IFwiQFwiXG4gICAgICAgICAgICAgICAgbW9iaWxlRmlyc3Q6IFwiQFwiXG4gICAgICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiBcIkBcIlxuICAgICAgICAgICAgICAgIHBhdXNlT25Eb3RzSG92ZXI6IFwiQFwiXG4gICAgICAgICAgICAgICAgcmVzcG9uZFRvOiBcIkBcIlxuICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IFwiPVwiXG4gICAgICAgICAgICAgICAgc2xpZGU6IFwiQFwiXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiBcIkBcIlxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiBcIkBcIlxuICAgICAgICAgICAgICAgIHNwZWVkOiBcIkBcIlxuICAgICAgICAgICAgICAgIHN3aXBlOiBcIkBcIlxuICAgICAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogXCJAXCJcbiAgICAgICAgICAgICAgICB0b3VjaE1vdmU6IFwiQFwiXG4gICAgICAgICAgICAgICAgdG91Y2hUaHJlc2hvbGQ6IFwiQFwiXG4gICAgICAgICAgICAgICAgdXNlQ1NTOiBcIkBcIlxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IFwiQFwiXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IFwiQFwiXG4gICAgICAgICAgICAgICAgcnRsOiBcIkBcIlxuXG4gICAgICAgICAgICAgICAgIyBFdmVudHNcbiAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlOiAnJidcbiAgICAgICAgICAgICAgICBvbkJlZm9yZUNoYW5nZTogJyYnXG4gICAgICAgICAgICAgICAgb25FZGdlOiAnJidcbiAgICAgICAgICAgICAgICBvbkluaXQ6ICcmJ1xuICAgICAgICAgICAgICAgIG9uUmVJbml0OiAnJidcbiAgICAgICAgICAgICAgICBvblNldFBvc2l0aW9uOiAnJidcbiAgICAgICAgICAgICAgICBvblN3aXBlOiAnJidcblxuICAgICAgICAgICAgbGluazogKCRzY29wZSwgZWxlbSwgYXR0cnMpLT5cbiAgICAgICAgICAgICAgICBzbGlkZXIgPSBudWxsXG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoICdkcmFnZ2FibGUnLCAtPlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWYgIXNsaWRlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWYgXy5pc1VuZGVmaW5lZCghJHNjb3BlLmRyYWdnYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXIuc2xpY2soJ3NsaWNrU2V0T3B0aW9uJywgJ2RyYWdnYWJsZScsICRzY29wZS5kcmFnZ2FibGUsIGZhbHNlKVxuXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4V2F0Y2ggPSAtPlxuXG4gICAgICAgICAgICAgICAgZGVzdHJveVNsaWNrID0gLT5cbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleFdhdGNoKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyID0gJChlbGVtKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIuc2xpY2soJ3Vuc2xpY2snKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmZpbmQoJy5zbGljay1saXN0JykucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsaWRlclxuXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNsaWNrID0gLT5cbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlciA9ICQgZWxlbVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGFnaW5nID0gdW5kZWZpbmVkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGF0dHJzLmN1c3RvbVBhZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVBhZ2luZyA9IChzbGljaywgaW5kZXgpLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmN1c3RvbVBhZ2luZyB7IHNsaWNrOiBzbGljaywgaW5kZXg6IGluZGV4IH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLnNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogJHNjb3BlLmFjY2Vzc2liaWxpdHkgaXNudCAnZmFsc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6ICRzY29wZS5hZGFwdGl2ZUhlaWdodCBpcyAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogJHNjb3BlLmF1dG9wbGF5IGlzICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IGlmICRzY29wZS5hdXRvcGxheVNwZWVkPyB0aGVuIHBhcnNlSW50KCRzY29wZS5hdXRvcGxheVNwZWVkLCAxMCkgZWxzZSAzMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiAkc2NvcGUuYXJyb3dzIGlzbnQgJ2ZhbHNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiBpZiAkc2NvcGUuYXNOYXZGb3IgdGhlbiAkc2NvcGUuYXNOYXZGb3IgZWxzZSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRBcnJvd3M6IGlmICRzY29wZS5hcHBlbmRBcnJvd3MgdGhlbiAkKCRzY29wZS5hcHBlbmRBcnJvd3MpIGVsc2UgJChlbGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZBcnJvdzogaWYgJHNjb3BlLnByZXZBcnJvdyB0aGVuICRzY29wZS5wcmV2QXJyb3cgZWxzZSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0QXJyb3c6IGlmICRzY29wZS5uZXh0QXJyb3cgdGhlbiAkc2NvcGUubmV4dEFycm93IGVsc2UgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogJHNjb3BlLmNlbnRlck1vZGUgaXMgJ3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJHNjb3BlLmNlbnRlclBhZGRpbmcgb3IgJzUwcHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzRWFzZTogJHNjb3BlLmNzc0Vhc2Ugb3IgJ2Vhc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGFnaW5nOiBjdXN0b21QYWdpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzOiAkc2NvcGUuZG90cyBpcyAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGlmIF8uaXNVbmRlZmluZWQoJHNjb3BlLmRyYWdnYWJsZSkgdGhlbiB0cnVlIGVsc2UgJHNjb3BlLmRyYWdnYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6ICRzY29wZS5mYWRlIGlzICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6ICRzY29wZS5mb2N1c09uU2VsZWN0IGlzICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJHNjb3BlLmVhc2luZyBvciAnbGluZWFyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VGcmljdGlvbjogTnVtYmVyKCRzY29wZS5lZGdlRnJpY3Rpb24gb3IgMC4xNSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogJHNjb3BlLmluZmluaXRlIGlzbnQgJ2ZhbHNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxTbGlkZTokc2NvcGUuaW5pdGlhbFNsaWRlIG9yIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXp5TG9hZDogJHNjb3BlLmxhenlMb2FkIG9yICdvbmRlbWFuZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVGaXJzdDogJHNjb3BlLm1vYmlsZUZpcnN0IGlzICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogJHNjb3BlLnBhdXNlT25Ib3ZlciBpc250ICdmYWxzZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU9uRG90c0hvdmVyOiAkc2NvcGUucGF1c2VPbkRvdHNIb3ZlciBpcyAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25kVG86ICRzY29wZS5yZXNwb25kVG8gb3IgJ3dpbmRvdydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiAkc2NvcGUucmVzcG9uc2l2ZSBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZTogJHNjb3BlLnNsaWRlIG9yICdkaXYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiBpZiAkc2NvcGUuc2xpZGVzVG9TaG93PyB0aGVuIHBhcnNlSW50KCRzY29wZS5zbGlkZXNUb1Nob3csIDEwKSBlbHNlIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogaWYgJHNjb3BlLnNsaWRlc1RvU2Nyb2xsPyB0aGVuIHBhcnNlSW50KCRzY29wZS5zbGlkZXNUb1Njcm9sbCwgMTApIGVsc2UgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiBpZiAkc2NvcGUuc3BlZWQ/IHRoZW4gcGFyc2VJbnQoJHNjb3BlLnNwZWVkLCAxMCkgZWxzZSAzMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2lwZTogJHNjb3BlLnN3aXBlIGlzbnQgJ2ZhbHNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogJHNjb3BlLnN3aXBlVG9TbGlkZSBpcyAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaE1vdmU6ICRzY29wZS50b3VjaE1vdmUgaXNudCAnZmFsc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hUaHJlc2hvbGQ6IGlmICRzY29wZS50b3VjaFRocmVzaG9sZCB0aGVuIHBhcnNlSW50KCRzY29wZS50b3VjaFRocmVzaG9sZCwgMTApIGVsc2UgNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNTUzogJHNjb3BlLnVzZUNTUyBpc250ICdmYWxzZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVdpZHRoOiAkc2NvcGUudmFyaWFibGVXaWR0aCBpcyAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJHNjb3BlLnZlcnRpY2FsIGlzICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ0bDogJHNjb3BlLnJ0bCBpcyAndHJ1ZSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgIyBFdmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlci5vbiAnYWZ0ZXJDaGFuZ2UnLCAoZSwgc2xpY2ssIGluZGV4KS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9uQWZ0ZXJDaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNrOiBzbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIGlmIGF0dHJzLm9uQWZ0ZXJDaGFuZ2VcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICRzY29wZS5jdXJyZW50SW5kZXg/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50SW5kZXggPSBpbmRleFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIub24gJ2JlZm9yZUNoYW5nZScsIChlLCBzbGljaywgY3VycmVudEluZGV4LCBuZXh0SW5kZXgpLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25CZWZvcmVDaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNrOiBzbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXg6IGN1cnJlbnRJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXg6IG5leHRJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgaWYgYXR0cnMub25CZWZvcmVDaGFuZ2VcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLm9uICdlZGdlJywgKGUsIHNsaWNrLCBkaXJlY3Rpb24pLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25FZGdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljazogc2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIGlmIGF0dHJzLm9uRWRnZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIub24gJ2luaXQnLCAoZSwgc2xpY2spLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25Jbml0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljazogc2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIGlmIGF0dHJzLm9uSW5pdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIub24gJ3JlSW5pdCcsIChlLCBzbGljayktPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vblJlaW5pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2s6IHNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSBpZiBhdHRycy5vblJlaW5pdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIub24gJ3NldFBvc2l0aW9uJywgKGUsIHNsaWNrKS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9uU2V0UG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNrOiBzbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgaWYgYXR0cnMub25TZXRQb3NpdGlvblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIub24gJ3N3aXBlJywgKGUsIHNsaWNrLCBkaXJlY3Rpb24pLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25Td2lwZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2s6IHNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSBpZiBhdHRycy5vblN3aXBlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICMgV2F0Y2ggRnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXhXYXRjaCA9ICRzY29wZS4kd2F0Y2ggJ2N1cnJlbnRJbmRleCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBuZXdWYWx1ZT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLnNsaWNrICdzbGlja0dvVG8nLCBuZXdWYWx1ZVxuXG5cbiAgICAgICAgICAgICAgICBpZiAkc2NvcGUuaW5pdE9ubG9hZFxuICAgICAgICAgICAgICAgICAgICBpc0luaXRpYWxpemVkID0gZmFsc2VcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoICdkYXRhJywgKG5ld1ZhbCwgb2xkVmFsKS0+XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiBuZXdWYWw/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveVNsaWNrKCkgaWYgaXNJbml0aWFsaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTbGljaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTbGljaygpXG4gICAgXSJdfQ==
